<!-- miniprogram/pages/lunar/lunar.wxml -->
<view class="container">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- é»„å†å†…å®¹ -->
  <view wx:else class="lunar-content">
    
    <!-- æ—¥æœŸå¡ç‰‡ -->
    <view class="date-card">
      <view class="solar-date">
        <text class="year">{{lunarInfo.solar.year}}å¹´</text>
        <text class="month-day">{{lunarInfo.solar.month}}æœˆ{{lunarInfo.solar.day}}æ—¥</text>
        <text class="weekday">{{lunarInfo.solar.weekday}}</text>
      </view>
      
      <view class="lunar-date">
        <text class="gan-zhi">{{lunarInfo.lunar.ganZhi}}</text>
        <text class="sheng-xiao">ã€{{lunarInfo.lunar.shengXiao}}å¹´ã€‘</text>
        <text class="lunar-text">{{lunarInfo.lunar.monthStr}}{{lunarInfo.lunar.dayStr}}</text>
      </view>
      
      <!-- èŠ‚æ°” -->
      <view wx:if="{{lunarInfo.jieQi}}" class="jie-qi">
        <text class="jie-qi-icon">ğŸŒ¸</text>
        <text class="jie-qi-text">{{lunarInfo.jieQi}}</text>
      </view>
    </view>

    <!-- å®œå¿Œå¡ç‰‡ -->
    <view class="yi-ji-card">
      <view class="yi-section">
        <view class="section-title">
          <text class="icon">âœ…</text>
          <text class="title-text">å®œ</text>
        </view>
        <view class="items">
          <text wx:for="{{lunarInfo.yi}}" wx:key="index" class="item yi-item">{{item}}</text>
        </view>
      </view>

      <view class="divider"></view>

      <view class="ji-section">
        <view class="section-title">
          <text class="icon">â›”</text>
          <text class="title-text">å¿Œ</text>
        </view>
        <view class="items">
          <text wx:for="{{lunarInfo.ji}}" wx:key="index" class="item ji-item">{{item}}</text>
        </view>
      </view>
    </view>

    <!-- å‰æ—¶å¡ç‰‡ -->
    <view class="ji-shi-card">
      <view class="card-title">
        <text class="icon">â°</text>
        <text class="title-text">ä»Šæ—¥å‰æ—¶</text>
      </view>
      <view class="ji-shi-list">
        <view wx:for="{{lunarInfo.jiShi}}" wx:key="index" class="ji-shi-item">
          <text class="shi-chen">{{item}}</text>
        </view>
      </view>
    </view>

    <!-- åˆ·æ–°æŒ‰é’® -->
    <view class="refresh-btn" bindtap="onRefresh">
      <text>åˆ·æ–°é»„å†</text>
    </view>

  </view>
</view>

